### **`bufio`Â åŒ…è¯¦è§£**

**ğŸ“Œ æ ¸å¿ƒä½œç”¨**ï¼šæä¾›å¸¦ç¼“å†²çš„ I/O æ“ä½œï¼ˆè¯»å†™æ–‡ä»¶ã€ç½‘ç»œæ•°æ®ç­‰ï¼‰ï¼Œ**å‡å°‘ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ï¼Œæå‡æ€§èƒ½**ã€‚

---

## **ğŸ”§ å¸¸ç”¨å‡½æ•°æ¸…å•**

|å‡½æ•°/ç±»å‹|ä½œç”¨|å…¸å‹åœºæ™¯|
|---|---|---|
|`bufio.Reader`|ç¼“å†²è¯»å–|é€è¡Œè¯»å–å¤§æ–‡ä»¶|
|`bufio.Writer`|ç¼“å†²å†™å…¥|æ‰¹é‡å†™å…¥å‡å°‘ç£ç›˜æ“ä½œ|
|`bufio.Scanner`|é«˜çº§æ–‡æœ¬æ‰«æ|æŒ‰è¡Œ/åˆ†éš”ç¬¦è¯»å–æ–‡æœ¬|
|`bufio.ReadWriter`|ç»„åˆè¯»å†™å™¨|ç½‘ç»œå¥—æ¥å­—è¯»å†™|

---

## **ğŸ“š æ ¸å¿ƒåŠŸèƒ½è¯¦è§£**

### **1.Â `bufio.Reader`ï¼ˆç¼“å†²è¯»å–ï¼‰**

#### **ä½œç”¨**

å°†åº•å±‚Â `io.Reader`ï¼ˆå¦‚æ–‡ä»¶ã€ç½‘ç»œè¿æ¥ï¼‰åŒ…è£…ä¸ºå¸¦ç¼“å†²çš„è¯»å–å™¨ï¼Œå‡å°‘ç›´æ¥ I/O æ“ä½œã€‚

#### **å¸¸ç”¨æ–¹æ³•**

|æ–¹æ³•|è¯´æ˜|
|---|---|
|`Read(p []byte)`|è¯»å–æ•°æ®åˆ°å­—èŠ‚åˆ‡ç‰‡|
|`ReadString(delim byte)`|è¯»å–ç›´åˆ°é‡åˆ°åˆ†éš”ç¬¦ï¼ˆå¦‚Â `\n`ï¼‰|
|`ReadLine()`|è¯»å–ä¸€è¡Œï¼ˆä¸æ¨èï¼Œç”¨Â `Scanner`ï¼‰|
|`Peek(n int)`|é¢„è§ˆå‰ n å­—èŠ‚ä½†ä¸ç§»åŠ¨æŒ‡é’ˆ|

#### **ç¤ºä¾‹ï¼šé€è¡Œè¯»å–æ–‡ä»¶**

```go
package main

import (
	"bufio"
	"fmt"
	"os"
)

func main() {
	file, _ := os.Open("data.txt")
	defer file.Close()

	reader := bufio.NewReader(file)
	for {
		line, err := reader.ReadString('\n') // æŒ‰è¡Œè¯»å–
		if err != nil {
			break // è¯»åˆ°æ–‡ä»¶å°¾
		}
		fmt.Print("Line:", line)
	}
}
```
**è¾“å‡º**ï¼š
```
Line:Hello, world!
Line:This is a test.
```
---

### **2.Â `bufio.Writer`ï¼ˆç¼“å†²å†™å…¥ï¼‰**

#### **ä½œç”¨**

å°†å¤šæ¬¡å°æ•°æ®å†™å…¥åˆå¹¶ä¸ºå•æ¬¡å¤§å—å†™å…¥ï¼Œå‡å°‘ç£ç›˜/ç½‘ç»œ I/O æ¬¡æ•°ã€‚

#### **å¸¸ç”¨æ–¹æ³•**

|æ–¹æ³•|è¯´æ˜|
|---|---|
|`Write(p []byte)`|å†™å…¥å­—èŠ‚åˆ‡ç‰‡|
|`WriteString(s string)`|ç›´æ¥å†™å…¥å­—ç¬¦ä¸²|
|`Flush()`|å¼ºåˆ¶å°†ç¼“å†²æ•°æ®å†™å…¥åº•å±‚æµ|

#### **ç¤ºä¾‹ï¼šé«˜æ•ˆå†™å…¥æ–‡ä»¶**

```go
package main

import (
	"bufio"
	"os"
)

func main() {
	file, _ := os.Create("output.txt")
	defer file.Close()

	writer := bufio.NewWriter(file)
	writer.WriteString("Hello, ")  // å†™å…¥ç¼“å†²åŒº
	writer.WriteString("bufio!\n") // ä»åœ¨ç¼“å†²åŒº
	writer.Flush()                 // å®é™…å†™å…¥ç£ç›˜
}
```
**æ–‡ä»¶å†…å®¹**ï¼š
```
Hello, bufio!
```
---

### **3.Â `bufio.Scanner`ï¼ˆé«˜çº§æ‰«æï¼‰**

#### **ä½œç”¨**

æä¾›æ›´ç®€å•çš„æ–‡æœ¬é€è¡Œ/é€è¯æ‰«æï¼Œè‡ªåŠ¨å¤„ç†ç¼“å†²å’Œå†…å­˜åˆ†é…ã€‚

#### **å¸¸ç”¨æ–¹æ³•**

|æ–¹æ³•|è¯´æ˜|
|---|---|
|`Scan()`|è¯»å–ä¸‹ä¸€ä¸ª tokenï¼ˆå¦‚è¡Œï¼‰|
|`Text()`|è·å–å½“å‰ token çš„æ–‡æœ¬|
|`Split(splitFunc)`|è‡ªå®šä¹‰åˆ†å‰²é€»è¾‘ï¼ˆå¦‚æŒ‰å•è¯ï¼‰|

#### **ç¤ºä¾‹ï¼šç»Ÿè®¡æ–‡ä»¶è¡Œæ•°**

```go
package main

import (
	"bufio"
	"fmt"
	"os"
)

func main() {
	file, _ := os.Open("data.txt")
	defer file.Close()

	scanner := bufio.NewScanner(file)
	lineCount := 0
	for scanner.Scan() { // é»˜è®¤æŒ‰è¡Œæ‰«æ
		lineCount++
	}
	fmt.Println("Total lines:", lineCount)
}
```
**è¾“å‡º**ï¼š
```
Total lines: 42
```
---

## **âš ï¸ æ³¨æ„äº‹é¡¹**

1. **å¿…é¡»è°ƒç”¨Â `Flush()`**
    
    - `bufio.Writer`Â çš„æ•°æ®åœ¨ç¼“å†²åŒºä¸­ï¼Œç›´åˆ°è°ƒç”¨Â `Flush()`Â æ‰ä¼šçœŸæ­£å†™å…¥ã€‚
        
2. **ç¼“å†²åŒºå¤§å°**
    
    - é»˜è®¤ç¼“å†²åŒºå¤§å° 4096 å­—èŠ‚ï¼Œå¯é€šè¿‡Â `bufio.NewReaderSize`Â è°ƒæ•´ã€‚
        
3. **`Scanner`Â çš„å†…å­˜é™åˆ¶**
    
    - å•è¡Œé»˜è®¤æœ€å¤§ 64KBï¼Œè¶…é•¿è¡Œéœ€ç”¨Â `reader.ReadString()`ã€‚
        

---

## **ğŸš€ æ€§èƒ½ä¼˜åŒ–åœºæ™¯**

|åœºæ™¯|æ¨èå·¥å…·|ä¼˜åŠ¿|
|---|---|---|
|è¯»å–å¤§æ–‡ä»¶|`bufio.Reader`|å‡å°‘ç³»ç»Ÿè°ƒç”¨|
|é«˜é¢‘å†™å…¥å°æ•°æ®|`bufio.Writer`|åˆå¹¶å†™å…¥é™ä½ I/O å‹åŠ›|
|è§£æç»“æ„åŒ–æ–‡æœ¬|`bufio.Scanner`|ç®€åŒ–ä»£ç ï¼Œè‡ªåŠ¨å¤„ç†åˆ†éš”ç¬¦|

---

## **ğŸ’¡ è¿›é˜¶æŠ€å·§**

### **1. è‡ªå®šä¹‰Â `Scanner`Â åˆ†å‰²é€»è¾‘**

```go
scanner := bufio.NewScanner(file)
scanner.Split(bufio.ScanWords) // æ”¹ä¸ºæŒ‰å•è¯æ‰«æ
for scanner.Scan() {
    fmt.Println("Word:", scanner.Text())
}
```
### **2. å¤ç”¨ç¼“å†²åŒºï¼ˆé›¶åˆ†é…ï¼‰**

```go
reader := bufio.NewReader(file)
buf := make([]byte, 1024) // å¤ç”¨ç¼“å†²åŒº
for {
    n, _ := reader.Read(buf)
    if n == 0 { break }
    fmt.Println(string(buf[:n]))
}
```
---

## **ğŸ“Œ æ€»ç»“**

- **ä½•æ—¶ç”¨Â `bufio`**ï¼šéœ€è¦é«˜é¢‘æˆ–å¤§å— I/O æ—¶ï¼ˆå¦‚æ—¥å¿—å¤„ç†ã€ç½‘ç»œé€šä¿¡ï¼‰ã€‚
    
- **æ ¸å¿ƒç±»å‹**ï¼š
    
    - `Reader`ï¼šç¼“å†²è¯»å– â†’ é€‚åˆå¤§æ–‡ä»¶
        
    - `Writer`ï¼šç¼“å†²å†™å…¥ â†’ é€‚åˆé«˜é¢‘å°å†™å…¥
        
    - `Scanner`ï¼šæ–‡æœ¬æ‰«æ â†’ é€‚åˆæŒ‰è¡Œ/è¯è§£æ